<?xml version="1.0" encoding="UTF-8"?><beans xmlns="http://www.springframework.org/schema/beans" 	 xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"	 xmlns:context="http://www.springframework.org/schema/context" 	 xmlns:mvc="http://www.springframework.org/schema/mvc"	 xsi:schemaLocation="http://www.springframework.org/schema/mvc 						 http://www.springframework.org/schema/mvc/spring-mvc-4.2.xsd 						 http://www.springframework.org/schema/beans 						 http://www.springframework.org/schema/beans/spring-beans-4.2.xsd 						 http://www.springframework.org/schema/context 						 http://www.springframework.org/schema/context/spring-context-4.2.xsd">	<description>Spring MVC Configuration</description>		<!-- 启用spring mvc 注解-->	<context:annotation-config />    <mvc:annotation-driven />    <!-- 自动扫描该包，使SpringMVC认为包下用了@controller注解的类是控制器   事物中排除对Controller的    <context:component-scan Base-package="com.zichen.bootstrap"/>-->    <context:component-scan base-package="com.zichen.bootstrap">        <!--<context:exclude-filter type="annotation" expression="org.springframework.stereotype.Controller" />-->        <context:include-filter type="annotation" expression="org.springframework.stereotype.Controller" />        <context:exclude-filter type="annotation" expression="org.springframework.stereotype.Service" />    </context:component-scan>	<!-- 对静态资源文件的访问，交给default servlet handler处理-->	<mvc:default-servlet-handler/>    <mvc:resources mapping="/css/**" location="/css/" />    <mvc:resources mapping="/js/**" location="/js/" />    <mvc:resources mapping="/images/**" location="/images/" />    <mvc:resources mapping="/html/**" location="/html/" />	<!-- 启动SpringMVC的注解功能，完成请求和注解POJO的映射 -->	<bean class="org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter"/>    <!-- 这个一定得有，注意了，如果其他配置也有需要这个，已经配置了，那不必了 -->    <!-- 默认的注解映射的支持 -->    <!--<mvc:annotation-driven conversion-service="conversionService" />-->    <mvc:annotation-driven>        <mvc:message-converters>            <bean class="org.springframework.http.converter.json.MappingJackson2HttpMessageConverter">                <property name="supportedMediaTypes">                    <list>                        <value>text/html;charset=UTF-8</value><!-- 避免IE出现下载JSON文件的情况 -->                    </list>                </property>                <property name="objectMapper">                    <bean class="com.fasterxml.jackson.databind.ObjectMapper">                        <!-- 处理responseBody 里面日期类型 -->                        <property name="dateFormat">                            <bean class="java.text.SimpleDateFormat">                                <constructor-arg type="java.lang.String" value="yyyy-MM-dd HH:mm:ss" />                            </bean>                        </property>                        <!-- 为null字段时不显示 -->                        <property name="serializationInclusion">                            <value type="com.fasterxml.jackson.annotation.JsonInclude.Include">NON_NULL</value>                        </property>                    </bean>                </property>            </bean>        </mvc:message-converters>    </mvc:annotation-driven>    <!--&lt;!&ndash; 针对freemarker的视图配置 &ndash;&gt;    <bean id="freemarkerResolver" class="org.springframework.web.servlet.view.freemarker.FreeMarkerViewResolver">        <property name="order" value="1" />        <property name="suffix" value=".ftl" />        <property name="contentType" value="text/html;charset=utf-8" />        <property name="viewClass">            <value>org.springframework.web.servlet.view.freemarker.FreeMarkerView</value>        </property>        <property name="requestContextAttribute" value="rc" />    </bean>    &lt;!&ndash; freemaker配置 &ndash;&gt;    <bean id="freemarkerConfig" class="org.springframework.web.servlet.view.freemarker.FreeMarkerConfigurer">        <property name="templateLoaderPath">            <value>/WEB-INF/</value>        </property>        <property name="freemarkerSettings">&lt;!&ndash; 设置FreeMarker环境属性 &ndash;&gt;            <props>                <prop key="template_update_delay">5</prop>&lt;!&ndash;刷新模板的周期，单位为秒 &ndash;&gt;                <prop key="default_encoding">UTF-8</prop>&lt;!&ndash;模板的编码格式 &ndash;&gt;                <prop key="locale">UTF-8</prop>&lt;!&ndash; 本地化设置 &ndash;&gt;                <prop key="datetime_format">yyyy-MM-dd HH:mm:ss</prop>                <prop key="time_format">HH:mm:ss</prop>                <prop key="number_format">0.####</prop>                <prop key="boolean_format">true,false</prop>                <prop key="whitespace_stripping">true</prop>                <prop key="tag_syntax">auto_detect</prop>                <prop key="url_escaping_charset">UTF-8</prop>            </props>        </property>    </bean>-->    <!--FTL视图文件解析配置-->     <bean id="freemarkerConfig" class="org.springframework.web.servlet.view.freemarker.FreeMarkerConfigurer">        <property name="templateLoaderPath" value="/WEB-INF/ftl/"/>         <property name="defaultEncoding" value="UTF-8" />         <property name="freemarkerSettings">             <props>                 <prop key="template_update_delay">10</prop>                 <prop key="locale">zh_CN</prop>             </props>         </property>    </bean>    <bean class="org.springframework.web.servlet.view.freemarker.FreeMarkerViewResolver">        <property name="viewClass">            <value>org.springframework.web.servlet.view.freemarker.FreeMarkerView</value>        </property>        <property name="contentType" value="text/html;charset=UTF-8" />         <property name="suffix" value=".ftl"/>        <property name="order" value="1" />     </bean>    <!-- html视图解析器 必须先配置freemarkerConfig,注意html是没有prefix前缀属性的    <bean id="freemarkerConfigs" class="org.springframework.web.servlet.view.freemarker.FreeMarkerConfigurer">        <property name="templateLoaderPath">            <value>/WEB-INF/html/</value>        </property>        <property name="defaultEncoding" value="UTF-8" />        <property name="freemarkerSettings">            <props>                <prop key="template_update_delay">10</prop>                <prop key="locale">zh_CN</prop>            </props>        </property>    </bean>    <bean id="htmlviewResolver"          class="org.springframework.web.servlet.view.freemarker.FreeMarkerViewResolver">        <property name="suffix" value=".html" />        <property name="order" value="0"></property>        <property name="contentType" value="text/html;charset=UTF-8"></property>    </bean>-->    <!-- JSP视图文件解析配置 -->    <bean class="org.springframework.web.servlet.view.InternalResourceViewResolver">        <property name="prefix" value="/WEB-INF/jsp/"/>        <property name="suffix" value=".jsp"/>        <property name="order" value="2"/>        <property name="contentType" value="text/html;charset=UTF-8"/>    </bean>		<bean id="multipartResolver" class="org.springframework.web.multipart.commons.CommonsMultipartResolver">		<!-- one of the properties available; the maximum file size in bytes -->		<property name="maxUploadSize">			<value>5242880</value>		</property>		<!-- <property name="defaultEncoding"><value>UTF-8</value></property> -->	</bean>	</beans>